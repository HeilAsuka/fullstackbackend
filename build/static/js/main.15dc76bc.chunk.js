(this.webpackJsonpthephonebook=this.webpackJsonpthephonebook||[]).push([[0],{16:function(e,n,t){e.exports=t(39)},39:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(15),c=t.n(o),u=t(3),i=function(e){var n=e.persons,t=e.handleRemovePerson;return n.map((function(e){return a.a.createElement("div",{key:e.id},e.name," ",e.number," ",a.a.createElement("button",{onClick:function(){return t(e)}},"Remove"))}))},l=function(e){return a.a.createElement("form",{onSubmit:e.addPerson},a.a.createElement("div",null,"name:"," ",a.a.createElement("input",{value:e.newName,onChange:e.handlePersonChange})),a.a.createElement("div",null,"number:"," ",a.a.createElement("input",{value:e.newPhoneNumber,onChange:e.handlePhoneNumberChange})),a.a.createElement("div",null,a.a.createElement("button",{type:"submit"},"add")))},s=function(e){return a.a.createElement("div",null,"Filter show with"," ",a.a.createElement("input",{value:e.filteredString,onChange:e.filterPerson}))},d=function(e){var n=e.notificationType,t=e.notificationContent,r=null;switch(n){case"success":r=a.a.createElement("div",{style:{color:"green",background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10}},t);break;case"error":r=a.a.createElement("div",{style:{color:"red",background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10}},t);break;default:console.log("No notification")}return r},m=t(2),f=t.n(m),p=t(4),h=t(5),b=t.n(h),v="/api/persons",g={getAllPersons:function(){var e=Object(p.a)(f.a.mark((function e(){var n,t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=b.a.get(v),e.next=3,n;case 3:return t=e.sent,e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),addPerson:function(){var e=Object(p.a)(f.a.mark((function e(n){var t,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=b.a.post(v,n),e.next=3,t;case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),removePerson:function(){var e=Object(p.a)(f.a.mark((function e(n){var t,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=b.a.delete("".concat(v,"/").concat(n.id)),e.next=3,t;case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),updatePerson:function(){var e=Object(p.a)(f.a.mark((function e(n,t){var r,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=b.a.put("".concat(v,"/").concat(n),t),e.next=3,r;case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()},w=function(){var e=Object(r.useState)([]),n=Object(u.a)(e,2),t=n[0],o=n[1],c=Object(r.useState)(""),m=Object(u.a)(c,2),f=m[0],p=m[1],h=Object(r.useState)(""),b=Object(u.a)(h,2),v=b[0],w=b[1],E=Object(r.useState)(""),P=Object(u.a)(E,2),y=P[0],j=P[1],k=Object(r.useState)(""),O=Object(u.a)(k,2),S=O[0],C=O[1],x=Object(r.useState)(""),N=Object(u.a)(x,2),T=N[0],A=N[1],R=y?t.filter((function(e){return e.name.toLowerCase().includes(y.toLowerCase())})):t;Object(r.useEffect)((function(){g.getAllPersons().then((function(e){return o(e)}))}),[]);return a.a.createElement("div",null,a.a.createElement("h2",null,"Phonebook"),a.a.createElement(d,{notificationType:T,notificationContent:S}),a.a.createElement(s,{filteredString:y,filterPerson:function(e){j(e.target.value)}}),a.a.createElement("div",null,"Add new"),a.a.createElement(l,{addPerson:function(e){e.preventDefault();var n={name:f.trim(),number:v.trim()},r=t.filter((function(e){return e.name===n.name}));r.length?window.confirm("".concat(n.name," is already added to phonebook, replace it with new one ?"))&&g.updatePerson(r[0].id,n).then((function(){g.getAllPersons().then((function(e){return o(e)}))})).catch((function(e){A("error"),C("Information of ".concat(n.name," is already removed")),setTimeout((function(){A(null),C(null)}),5e3)})):(o(t.concat(n)),g.addPerson(n).then((function(e){o(t.concat(e)),A("success"),C("".concat(e.name," added to phonebook")),setTimeout((function(){A(null),C(null)}),5e3)}))),p(""),w("")},newName:f,handlePersonChange:function(e){p(e.target.value)},newPhoneNumber:v,handlePhoneNumberChange:function(e){w(e.target.value)}}),a.a.createElement("h2",null,"Numbers"),a.a.createElement(i,{persons:R,handleRemovePerson:function(e){window.confirm("Are you sure you want to remove ".concat(e.name," ?"))&&g.removePerson(e).then((function(){o(t.filter((function(n){return n.id!==e.id}))),A("success"),C("".concat(e.name," removed")),setTimeout((function(){A(null),C(null)}),5e3)})).catch((function(n){A("error"),C("Information of ".concat(e.name," is already removed")),setTimeout((function(){A(null),C(null)}),5e3)}))}}))};c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(w,null)),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.15dc76bc.chunk.js.map